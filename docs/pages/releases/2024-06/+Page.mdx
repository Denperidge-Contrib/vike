import { Link, Warning } from '@brillout/docpress'

<Warning>
  This page is a draft until `01.07.2024`.
</Warning>

TODO:
- `vike-cloudflare`
- Improved docs (data fetching + data integration)

**Features**

[Improved Nested Layouts](#improved-nested-layouts)  
[`+client.js`](#client-js)  
[`clientOnly()`](#clientonly)  
[`bodyHtmlBegin`/`bodyHtmlEnd`](#bodyhtmlbegin-bodyhtmlend)  

**Bug fixes and misc improvements**

[Fixes & improvements](#fixes-improvements)  

**Project**

[Getting close to `1.0.0`](#getting-close-to-1-0-0)  
[New marketing](#new-marketing)  
[Roadmap](#roadmap)  

**See also**

[See also](#see-also)  


## Improved Nested Layouts

Vike now has first-class support for nested layouts.

```yaml
pages/+Layout.js
pages/product/@id/+Layout.js
pages/product/@id/pricing/+Page.js
pages/product/@id/reviews/+Page.js
```

See <Link href="/Layout#nested-layout" />.

> Caching the data of the outer layout is work-in-progress, see [#1689 - [Nested Layouts] Cache data of outer layout](https://github.com/vikejs/vike/issues/1689).

> üôè Author: [`Blankeos`](https://github.com/Blankeos), [`brillout`](https://github.com/brillout)


## `+client.js`

You can now define a `+client.js` file to add client-side JavaScript, which is run first before any other JavaScript.

See <Link href="/client" />.

> üôè Author: [`brillout`](https://github.com/brillout)


## `clientOnly()`

Vue users can now use the <Link href="/clientOnly">`clientOnly()`</Link> helper which is like`<ClientOnly>` wrapper (now depreacted) but with a much improved DX.

> üôè Author: [`pdanpdan`](https://github.com/pdanpdan)

Solid users already had `clientOnly()` for a while now.

There is a feature request for `vike-react`: [#102 - `clientOnly()` instead of `<ClientOnly>`](https://github.com/vikejs/vike-react/issues/102). Contribution welcome!


## `bodyHtmlBegin`/`bodyHtmlEnd`

With Vue, a common need is to insert the HTML of teleports. You can now do that with the following new settings:
- <Link href="/bodyHtmlBegin" />
- <Link href="/bodyHtmlEnd" />

> üôè Author: [`4350pChris`](https://github.com/4350pChris)


## Fixes & improvements

There have been internal structural changes to provide new capabilities for Vike extension, most notably being able to create cumulative hooks.

> üôè Author: [`brillout`](https://github.com/brillout)

New [Bati](https://batijs.dev) integrations:
 - [Drizzle ORM](https://orm.drizzle.team)
 - [ts-rest](https://ts-rest.com)

> üôè Author: [`phonzammi`](https://github.com/phonzammi), [`magne4000`](https://github.com/magne4000)

We've been working on [Universal Handlers](https://github.com/magne4000/universal-handler) which will enable Vike extensions to automatically integrate the server-side of tools.

> üôè Author: [`magne4000`](https://github.com/magne4000)



## Getting close to `1.0.0`

The three main reasons why we aren't releasing `1.0.0` are:

1. [x] Nested Layouts.
2. [ ] Use Vite to transpile server code.
3. [ ] A big announcement we'll unveil later this sommer.
   > It will be pivotal to the project. Stay tuned.

We're getting close to the [`1.0.0` release](https://github.com/vikejs/vike/issues?q=is%3Aissue+is%3Aopen+label%3A%22v1+release+%3Astar2%3A%22).


## New marketing

We're slowy starting to focus on marketing and advertising Vike.

For example, we started creating a new <Link href="/why">Why Vike</Link> page. This page is the long-form version of the upcoming new landing page.

In the coming months, the website `vike.dev` will get a facelift to be aesthetically much more pleasing.


## Roadmap

Major features we're working on:

- Improved head management DX.
- [Prefetching of `pageContext`](https://github.com/vikejs/vike/issues/246)
- Vike CLI.
  > Replacing the Vite CLI which is an important structural change enabling a lot of upcoming features.
- Use Vite to transpile server code.
  > Including standalone server builds, and development directly against edge runtimes (e.g. Cloudflare's workerd). Led by [@nitedani](https://github.com/nitedani).
- Rehaul `vike.dev` aesthetics and UX. (New design is done and we'll implement it once we're finished with all [`highest-priority` tickets](https://github.com/vikejs/vike/issues?q=is%3Aissue+is%3Aopen+label%3A%22highest-prio+%F0%9F%94%A5%22).)


## See also

- [`vike` > `CHANGELOG.md`](https://github.com/vikejs/vike/blob/main/CHANGELOG.md)
- [`vike-react` > `CHANGELOG.md`](https://github.com/vikejs/vike-react/blob/main/packages/vike-react/CHANGELOG.md)
- [`vike-vue` > `CHANGELOG.md`](https://github.com/vikejs/vike-vue/blob/main/packages/vike-vue/CHANGELOG.md)
- [`vike-solid` > `CHANGELOG.md`](https://github.com/vikejs/vike-solid/blob/main/CHANGELOG.md)
- <Link href="/releases" />
